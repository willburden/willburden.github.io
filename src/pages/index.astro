---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import formatDate from "../util/formatDate";

const posts = await getCollection("blog");
---

<BaseLayout>
    <h1 class="font-bold text-2xl leading-6 mb-4">Posts</h1>
    <ul class="list-disc list-inside space-y-4">
        {posts.map((post) => (
            <li>
                <a href={`/posts/${post.id}/`}>
                    {post.data.title} ({formatDate(post.data.pubDate)})
                </a>
            </li>
        ))}
    </ul>
</BaseLayout>
